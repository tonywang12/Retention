<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Janitor Room</title>
<link rel="stylesheet" href="styles.css" />
<script src="hittest.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() { 
    $('#content').hide();
    $('#content').fadeIn(3000);
    $('#chatbox').hide();
    $('#box').hide();
    $('#player').hide();
    $('#maze').hide();
    $('#goal').hide();
    $('#arrowDown').hide();
    var counter = 0;
    var clicked = true;
    var Drawing = false;

    if (localStorage.getItem('firstJanitorRoom') == 'true'){

    $("div#JanitorRoom").click(ClickCommand);

    function ClickCommand(){
        if (clicked){
        counter++;
        }
        if (counter == 1){
            
            $('#blur').css({ 'opacity': '0.5'});
            $('div#chattext').text("So this was the room...");
            $('#chatbox').show();
        }
        if (counter == 2){
            $('div#chattext').text("This is where I hid during that...");
        }
        if (counter == 3){
            $('div#chattext').text("...");
        }
        if (counter == 4){
            $('#blur').css({ 'opacity': '0'});
            $('#chatbox').hide();
            $('#box').show();
            $('#arrowDown').show();

            localStorage.setItem('firstJanitorRoom', 'false');    
        }
    }
    }

    // change
    //localStorage.setItem('firstKey', 'false');    

    if (localStorage.getItem('firstJanitorRoom') == 'false'){
        $('#arrowDown').show();
        $('#box').show();
    }
        
    if (localStorage.getItem('Token') == 'true'){
        $('#box').hide();
    }

    if(localStorage.getItem('finishMaze') == 'true'){
            $('#box').hide();
            $('#arrowDown').hide();

            $('div#chattext').text("You obtain a Key!");
            localStorage.setItem('finishMaze', 'none');
            localStorage.setItem('Token', 'true');
            var counter = 0;
            $('div#JanitorRoom').click(function(){
                counter++;
                console.log(counter);
                
            if (counter == 1){
                $('#blur').css({ 'opacity': '0.5'});
                $('div#chattext').text("*You have obtained a Token");
                $('#chatbox').show();
            }
            if (counter == 2){
                $('div#chattext').text("Nice.");
            }
            if (counter == 3){
                $('div#chattext').text("This looks powerful.");
            }
            if (counter == 4){
                $('#chatbox').hide();
                $('#arrowDown').show();
                $('#blur').css({ 'opacity': '0'});
                $('#box').hide();
            }
        
            })  
        }    


        $("div#box").click(function(){
            $('#box').hide();
            $('#arrowDown').hide();
            var counter = 0;
            $('div#JanitorRoom').click(function(){
                counter++;
                console.log(counter);
                
            if (counter == 1){
                $('#blur').css({ 'opacity': '0.5'});
                $('div#chattext').text("There may be some clues inside this box.");
                $('#chatbox').show();
            }
            if (counter == 2){
                $('div#chattext').text("...");
            }
            if (counter == 3){
                $('div#chattext').text("Lets try lock picking it.");
            }
            if (counter == 4){
                window.location = 'maze.html';
            }
            })  
        })


    if (localStorage.getItem('bossAvaliable') == 'true'){
        $('#box').hide();
        $('#arrowDown').hide();
        $("div#JanitorRoom").click(ClickCommand);

        function ClickCommand(){
            $('#box').hide();
            $('#arrowDown').hide();
            counter++;
            
            if (counter == 1){
                $('#blur').css({ 'opacity': '0.5'});
                $('div#chattext').text("...");
                $('#chatbox').show();
            }
            if (counter == 2){
                $('div#chattext').text("Hello?");
            }
            if (counter == 3){
                $('div#chattext').text("Is there anybody here?");
            }
            if (counter == 4){
                $('#chatname').text("???");
                $('div#chattext').text("*laughs*");
            }
            if (counter == 5){
                $('div#chattext').text("Hello sir!");
            }
            if (counter == 6){
                $('#chatname').text("D");
                $('div#chattext').text("H-How...");
            }
            if (counter == 7){
                $('div#chattext').text("How are you doing this");
            }
            if (counter == 8){
                $('div#chattext').text("You're me");
            }
            if (counter == 9){
                $('div#chattext').text("...");
            }
            if (counter == 10){
                $('div#chattext').text("When I was still a child");
            }
            if (counter == 11){
                $('#chatname').text("???");
                $('div#chattext').text("No sir");
            }
            if (counter == 12){
                $('#chatname').text("Doman");
                $('div#chattext').text("My name is Doman");
            }
            if (counter == 13){
                $('div#chattext').text("I go to school here and have lots of fun!");
            }
            if (counter == 14){
                $('div#chattext').text("My favourite subject is art and I love getting all messy with paint");
            }
            if (counter == 15){
                $('div#chattext').text("I just love it!");
            }
            if (counter == 16){
                $('#chatname').text("D");
                $('div#chattext').text("...");
            }
            if (counter == 17){
                $('#chatname').text("Doman");
                $('div#chattext').text("Life is perfect and there's no way anything can go wrong");
            }
            if (counter == 18){
                $('#chatname').text("D");
                $('div#chattext').text("...");
            }
            if (counter == 19){
                $('#chatname').text("Doman");
                $('div#chattext').text("Living like this is the dream wouldn't you agree sir?");
            }
            if (counter == 20){
                $('#chatname').text("D");
                $('div#chattext').text("...");
            }
            if (counter == 21){
                $('#chatname').text("Doman");
                $('div#chattext').text("I can't wait to meet up with Kel at lunch and play football!");
            }
            if (counter == 22){
                $('#chatname').text("D");
                $('div#chattext').text("Stop it...");
            }
            if (counter == 23){
                $('#chatname').text("Doman");
                $('div#chattext').text("*laughs");
                //play audio of evil laugh
            }
            if (counter == 24){
                $('#chatname').text("D");
                $('div#chattext').text("Why are you doing this");
            }
            if (counter == 25){
                $('#chatname').text("Doman");
                $('div#chattext').text("*laughs*");
                //play audio of evil laugh
            }
            if (counter == 26){
                $('div#chattext').text("This is fun");
            }
            if (counter == 27){
                $('div#chattext').text("How'd you recover from that incident");
            }
            if (counter == 28){
                $('div#chattext').text("These memories I'm feeling...");
            }
            if (counter == 29){
                $('div#chattext').text("I almost feel sad for you!");
            }
            if (counter == 30){
                $('div#chattext').text("The Gun Devil huh...");
            }
            if (counter == 31){
                $('div#chattext').text("IT MUST HAVE BEEN SO SCARY");
            }
            if (counter == 32){
                $('div#chattext').text("It's a miracle you survived!");
            }
            if (counter == 33){
                $('#chatname').text("D");
                $('div#chattext').text("Shut your devil mouth");
            }
            if (counter == 34){
                $('div#chattext').text("You seem to have the ability to toy with my memories");
            }
            if (counter == 35){
                $('div#chattext').text("What actually are you?");
            }
            if (counter == 36){
                $('#chatname').text("Memory Devil");
                $('div#chattext').text("*laughs*");
            }
            if (counter == 37){
                $('div#chattext').text("Just a Devil!");
            }
            if (counter == 38){
                window.location = 'MemoryDevil.html';  
                localStorage.setItem('bossAvaliable', 'none');
            }
            
        }
    } 
        
    if(localStorage.getItem('OpenDrawer') == 'true'){
            $('#box').hide();
            $('#arrowDown').hide();
            var counter = 0;
            $('div#JanitorRoom').click(function(){
                counter++;
                console.log(counter);
                
            if (counter == 1){
                $('#blur').css({ 'opacity': '0.5'});
                $('div#chattext').text("*Click*");
                $('#chatname').hide();
                $('#chatbox').show();
            }
            if (counter == 2){
                $('div#chattext').text("*Something seems to have opened*");
            }
            if (counter == 4){
                $('#chatbox').hide();
                $('#arrowDown').show();
                $('#blur').css({ 'opacity': '0'});
                $('#box').hide();
                localStorage.setItem('OpenDrawer', 'null');
                localStorage.setItem('TrueKey', 'true');

            }
        
            })  
    }   

    $("#arrowDown").click(function(){
        window.location = 'hallway1.html';
    })
        
});
</script>
</head>
<body>
<div id ="JanitorRoom">
    <div id="content">
    
        <img id="arrowDown" src="images/down.png">
        <img id="boxpic" src="images/toolbox.png">
        <div id="box" class="clickables"></div>
    <div id="blur"></div>
    <div id="chatbox"> 
        <div id="chatname">D</div>
        <div id="chattext"></div>
    </div>
</div>
</div>
<audio autoplay loop id="music">
    <source src="audio/80 Eternal Dungeon.mp3" type="audio/mp3">
</audio>
</body>
</html>