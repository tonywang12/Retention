<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Prologue</title>
<link rel="stylesheet" href="styles.css" />
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
$(document).ready(function() { 
    $('#content').hide();
    $('#content').fadeIn(3000);
    $('#chatname').hide();
    $('#chatbox').hide();
    $('#phoneclick').hide();
    var counter = 0;
    var clicked = true;
    $("div#stage").click(ClickCommand);

    function ClickCommand(){
        if (clicked){
        counter++;
        }
        if (counter == 1){
            $('div#chattext').text("*RING* *RING*");
            $('#chatbox').show();
        }
        if (counter == 2){
            $('div#chattext').text("*RING* *RING* *RING* *RING*");
        }
        if (counter == 3){
            $('div#chattext').text("*RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING*");
        }
        if (counter == 4){
            $('div#chattext').text("*RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING* *RING*");
        }
        if (counter == 5){
            $('div#chattext').text("Click on the yellow circle to interact with an object.");
            $('#phoneclick').show();
            clicked = false;
        }
        if (counter == 6){
            $('#blur').css({ 'opacity': '0.5'});
            $('div#chattext').text("What's up boss.");
            $('#chatname').show();
        }
        if (counter == 7){
            var chat = "PICK UP YOUR BLOODY PHONE KID!"
            let d = chat.toUpperCase()
            $('div#chattext').text(d);
            $('div#chatname').text("Boss");
            $('div#chatname').css({ 'left': 'auto'});
            $('div#chatname').css({ 'right': '0 '});
            $('div#chatname').css({ 'box-shadow': '0px 5px #888888'});
            $('div#chatname').css({ 'border-radius': '0px 0px 0px 4px '});
        }
        if (counter == 8){
            $('div#chattext').text("Ughh... My bad boss, still recovering from the last case at Koper. You need something?");
            $('div#chatname').text("D");
            $('div#chatname').css({ 'left': '0'});
            $('div#chatname').css({ 'right': 'auto '});
            $('div#chatname').css({ 'box-shadow': '2px 5px #888888'});
            $('div#chatname').css({ 'border-radius': '0px 0px 4px 0px '});
        }
        if (counter == 9){
            $('div#chattext').text("Well, I hope you rested well cause everyones out with the Postojna case. I need you to handle a local disturbance.");
        }
        if (counter == 10){
            $('div#chattext').text("There has been suspicious sightings at the town's school building. Witnesses believe they saw familiar faces through the windows during night. I believe a devil is involved. You'll go to Kamni-");
        }
        if (counter == 11){
            $('div#chattext').text("No");
            $('div#chatname').text("D");
            $('div#chatname').css({ 'left': '0'});
            $('div#chatname').css({ 'right': 'auto '});
            $('div#chatname').css({ 'box-shadow': '2px 5px #888888'});
            $('div#chatname').css({ 'border-radius': '0px 0px 4px 0px '});
        }
        if (counter == 12){
            
            $('div#chattext').text("Kid...");
            $('div#chatname').text("Boss");
            $('div#chatname').css({ 'left': 'auto'});
            $('div#chatname').css({ 'right': '0 '});
            $('div#chatname').css({ 'box-shadow': '0px 5px #888888'});
            $('div#chatname').css({ 'border-radius': '0px 0px 0px 4px '});
        }
        if (counter == 13){
            var chat = "JUST HANDLE THE CASE."
            let d = chat.toUpperCase()
            $('div#chattext').text(d);
        }
        if (counter == 14){
            var chat = "YOUR DOING IT ALRIGHT? OR YOU'RE FIRED."
            let d = chat.toUpperCase()
            $('div#chattext').text(d);
        }
        if (counter == 15){
            $('div#chattext').text("*HANGS UP*");
        }
        if (counter == 16){
            $('div#chattext').text("*sigh*");
            $('div#chatname').text("D");
            $('div#chatname').css({ 'left': '0'});
            $('div#chatname').css({ 'right': 'auto '});
            $('div#chatname').css({ 'box-shadow': '2px 5px #888888'});
            $('div#chatname').css({ 'border-radius': '0px 0px 4px 0px '});
        }
        if (counter == 17){
            $('div#chattext').text("Kamnik...");
        }
        if (counter == 18){
            $('div#chattext').text("...");
        }
        if (counter == 19){
            $('div#chattext').text("*yawn*");
        }
        if (counter == 20){
            $('div#chattext').text("...");
        }
        if (counter == 21){
            $('div#chattext').text("I'll call a cab later...");
        }
        if (counter == 22){
            window.location='FrontSchool.html';
        }
    }

    $("div#phoneclick").click(function(){
            console.log("I CLICK PHONE!");
            clicked = true;
            $('div#chattext').text("...");
            $('#phoneclick').hide();
        })

    localStorage.setItem('firstFrontSchool','true');   
    localStorage.setItem('firstHallway1','true');    
    localStorage.setItem('firstArtRoom','true');   
    localStorage.setItem('firstJanitorRoom','true');   
    localStorage.setItem('firstStaffRoom','true');  
    localStorage.setItem('blockedDoorWay1','true');   
    
    localStorage.setItem('firstDevilDefeat', 'false');

    localStorage.setItem('firstKey', 'false');
    localStorage.setItem('unlockedFirstDoor', 'false');

    localStorage.setItem('numberOfItems','0');   


});
</script>
</head>
<body>
<div id ="stage">
    <div id="content">
    <div id="phoneclick" class="clickables"></div>
    <div id="blur"></div>
    <div id="chatbox"> 
        <div id="chatname">D</div>
        <div id="chattext"></div>
    </div>
</div>
</div>

</body>
</html>